<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="UTF-8">
    <title>远程鼠标键盘</title>
    <link rel="stylesheet" href="/static/base.css">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <style>
        body {
            position: fixed;
            top: 0;
            left: 0;

        }
    </style>
</head>
<body>
<canvas id="canvas" style='background-color:#ccc;' width="375" height="600"></canvas>
<script type='text/javascript'>

    const canvasElem = document.getElementById('canvas');
    const ctx = canvasElem.getContext('2d');
    canvasElem.addEventListener('mousemove', procMove, false);
    canvasElem.addEventListener('mouseout', procOut, false);

    function procMove(e) {
        const x = e.clientX;
        const y = e.clientY;
        const node = e.target;
        console.log("Coordinates: (" + x + "," + y + ")");
        if (ctx.isPointInPath(x, y)) {
            document.body.style.cursor = "pointer";
        } else {
            document.body.style.cursor = "default";
        }
        const _x = e.offsetX === undefined ? e.layerX : e.offsetX;
        const _y = e.offsetY === undefined ? e.layerY : e.offsetY;
        ctx.fillRect(_x, _y, 3, 3);
    }

    function procOut() {
        document.body.style.cursor = "default";
    }






    function rectangle(x, y, w, h) {
        ctx.beginPath();
        ctx.rect(x, y, w, h);
        ctx.fillStyle = 'black';
        ctx.fill();
        ctx.lineWidth = 1;
        ctx.strokeStyle = 'black';
        ctx.stroke();
    }

    function text(t, x, y) {
        ctx.font = '30pt Calibri';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillStyle = '#ffffff';
        ctx.fillText(t, x, y);
    }

    function drawKey(x, y, w, h, t) {
        rectangle(x, y, w, h)
        text(t, x + (w / 2), y + (h / 2))
    }


    const span = 5;
    const w = 60;
    const h = 60;
    const x = (375 / 2) - (w / 2);
    const y = 450;
    const y2 = y + h + span;

    drawKey(x, y, w, h, '↑')
    drawKey(x - w - span, y2, w, h, '←')
    drawKey(x, y2, w, h, '↓')
    drawKey(x + w + span, y2, w, h, '→')

</script>
</body>
</html>